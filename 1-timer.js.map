{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport flatpickr from \"flatpickr\";\n\nconst options = {\n  enableTime: true,\n  disableMobile: true,\n  time_24hr: true,\n  locale: {\n    firstDayOfWeek: 1,\n    weekdays: {\n      shorthand: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"], \n      longhand: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n    },\n    months: {\n      shorthand: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], \n      longhand: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"] \n    }\n  },\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0]; \n\n    if (userSelectedDate <= Date.now()) { \n        iziToast.error({\n         title: \"Error\",\n        titleColor: '#fff',\n        message: 'Please choose a date in the future',\n        messageColor: '#fff',\n        position: 'topRight',\n        color: '#ef4040',\n      });\n        startBtn.disabled = true;\n    } else {\n        startBtn.disabled = false;\n    }\n    },\n};\n\nnew flatpickr('#datetime-picker', options);\n\nlet userSelectedDate;\n\nconst dateInput = document.querySelector('input');\ndateInput.className = 'timer_input';\n\nconst startBtn = document.querySelector('button[data-start]');\nstartBtn.className = \"timer_btn\";\n\nstartBtn.disabled = true;\n\nstartBtn.addEventListener('click', () => {\n    if (userSelectedDate) {\n        startCountDown(userSelectedDate);\n    }\n    iziToast.success({\n        title: \"OK\",\n        titleColor: '#fff',\n        message: 'Timer started',\n        messageColor: '#fff',\n        position: 'topRight',\n        color: '#59a10d',\n      });\n    startBtn.disabled = true;\n    dateInput.forEach(input => {\n         input.disabled = true;\n    });\n});\n\nfunction startCountDown(userSelectedDate) {\n    const interval = setInterval(() => {\n    const ms = userSelectedDate - Date.now();\n\n     if (ms <= 0) {\n        clearInterval(interval);\n        dateInput.forEach(input => {\n        input.disabled = false;\n    }); \n    } else {\n        const timeVal = convertMs(ms);\n      updateUI(timeVal); \n    }\n    }, 1000);\n};\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n};\n\nconst dataDays = document.querySelector('[data-days]');\nconst dataHours = document.querySelector('[data-hours]');\nconst dataMinutes = document.querySelector('[data-minutes]');\nconst dataSeconds = document.querySelector('[data-seconds]');\n\nfunction updateUI(timeVal) {\n    dataDays.textContent = addLeadingZero(timeVal.days);\n    dataHours.textContent = addLeadingZero(timeVal.hours);\n    dataMinutes.textContent = addLeadingZero(timeVal.minutes);\n    dataSeconds.textContent = addLeadingZero(timeVal.seconds);\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};"],"names":["options","selectedDates","userSelectedDate","iziToast","startBtn","flatpickr","dateInput","startCountDown","input","interval","ms","timeVal","convertMs","updateUI","days","hours","minutes","seconds","dataDays","dataHours","dataMinutes","dataSeconds","addLeadingZero","value"],"mappings":"oGAGA,MAAMA,EAAU,CACd,WAAY,GACZ,cAAe,GACf,UAAW,GACX,OAAQ,CACN,eAAgB,EAChB,SAAU,CACR,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACpD,SAAU,CAAC,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,QAAQ,CACxF,EACD,OAAQ,CACN,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAC9F,SAAU,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,UAAU,CACpI,CACF,EACD,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAmBD,EAAc,CAAC,EAE9BC,GAAoB,KAAK,OACzBC,EAAS,MAAM,CACd,MAAO,QACR,WAAY,OACZ,QAAS,qCACT,aAAc,OACd,SAAU,WACV,MAAO,SACf,CAAO,EACCC,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAEvB,CACL,EAEA,IAAIC,EAAU,mBAAoBL,CAAO,EAEzC,IAAIE,EAEJ,MAAMI,EAAY,SAAS,cAAc,OAAO,EAChDA,EAAU,UAAY,cAEtB,MAAMF,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,UAAY,YAErBA,EAAS,SAAW,GAEpBA,EAAS,iBAAiB,QAAS,IAAM,CACjCF,GACAK,EAAeL,CAAgB,EAEnCC,EAAS,QAAQ,CACb,MAAO,KACP,WAAY,OACZ,QAAS,gBACT,aAAc,OACd,SAAU,WACV,MAAO,SACf,CAAO,EACHC,EAAS,SAAW,GACpBE,EAAU,QAAQE,GAAS,CACtBA,EAAM,SAAW,EAC1B,CAAK,CACL,CAAC,EAED,SAASD,EAAeL,EAAkB,CACtC,MAAMO,EAAW,YAAY,IAAM,CACnC,MAAMC,EAAKR,EAAmB,KAAK,IAAG,EAErC,GAAIQ,GAAM,EACP,cAAcD,CAAQ,EACtBH,EAAU,QAAQE,GAAS,CAC3BA,EAAM,SAAW,EACzB,CAAK,MACM,CACH,MAAMG,EAAUC,EAAUF,CAAE,EAC9BG,EAASF,CAAO,CACjB,CACA,EAAE,GAAI,CACX,CAEA,SAASC,EAAUF,EAAI,CAMrB,MAAMI,EAAO,KAAK,MAAMJ,EAAK,KAAG,EAC1BK,EAAQ,KAAK,MAAOL,EAAK,MAAO,IAAI,EACpCM,EAAU,KAAK,MAAQN,EAAK,MAAO,KAAQ,GAAM,EACjDO,EAAU,KAAK,MAASP,EAAK,MAAO,KAAQ,IAAU,GAAM,EAEhE,MAAO,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,MAAMC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,SAASR,EAASF,EAAS,CACvBO,EAAS,YAAcI,EAAeX,EAAQ,IAAI,EAClDQ,EAAU,YAAcG,EAAeX,EAAQ,KAAK,EACpDS,EAAY,YAAcE,EAAeX,EAAQ,OAAO,EACxDU,EAAY,YAAcC,EAAeX,EAAQ,OAAO,CAC5D,CAEA,SAASW,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}